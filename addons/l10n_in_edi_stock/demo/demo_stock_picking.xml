<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">

    <record id="product.product_product_27" model="product.product">
        <field name="taxes_id" model="account.tax" eval="obj().env['account.tax'].search([
            ('type_tax_use', '=', 'sale'),
            ('company_id', '=', obj().env.ref('l10n_in_edi_stock.demo_company_in_ewaybill').id)
        ], limit=1)"/>
    </record>

    <record id="stock_inventory_1" model="stock.quant">
        <field name="product_id" ref="product.product_product_27"/>
        <field name="inventory_quantity">20.0</field>
        <field name="location_id" model="stock.location"
            eval="obj().env['stock.warehouse'].search([
                ('company_id', '=', obj().env.ref('l10n_in_edi_stock.demo_company_in_ewaybill').id)
            ], limit=1).lot_stock_id"
        />
    </record>

    <function model="stock.quant" name="action_apply_inventory">
        <function eval="[[('id', '=', ref('stock_inventory_1'))]]" model="stock.quant" name="search"/>
    </function>

    <record id="outgoing_shipment_main_warehouse_in_ewaybill" model="stock.picking">
        <field name="picking_type_id" model="stock.picking.type"
            eval="obj().env['stock.warehouse'].search([
                ('company_id', '=', obj().env.ref('l10n_in_edi_stock.demo_company_in_ewaybill').id)
            ], limit=1).out_type_id"/>
        <field name="partner_id" ref="l10n_in_edi_stock.res_partner_registered_customer_ewaybill"/>
        <field name="scheduled_date" eval="DateTime.today()"/>
        <field name="location_id" model="stock.location"
            eval="obj().env['stock.warehouse'].search([
                ('company_id', '=', obj().env.ref('l10n_in_edi_stock.demo_company_in_ewaybill').id)
            ], limit=1).lot_stock_id"/>
        <field name="location_dest_id" ref="stock.stock_location_customers"/>
        <field name="company_id" ref="l10n_in_edi_stock.demo_company_in_ewaybill"/>
        <field name="move_ids" model="stock.move" eval="[(0, 0, {
            'name': 'Drawer',
            'product_id': ref('product.product_product_27'),
            'product_uom': ref('uom.product_uom_unit'),
            'product_uom_qty': 5.0,
            'location_id': obj().env['stock.warehouse'].search([
                ('company_id', '=', obj().env.ref('l10n_in_edi_stock.demo_company_in_ewaybill').id)
            ], limit=1).lot_stock_id.id,
            'location_dest_id': ref('stock.stock_location_customers'),
            'company_id': ref('l10n_in_edi_stock.demo_company_in_ewaybill'),
        })]"/>
    </record>

    <function model="stock.picking" name="action_assign">
        <value model="stock.picking" eval="[ref('l10n_in_edi_stock.outgoing_shipment_main_warehouse_in_ewaybill')]"/>
    </function>

</odoo>
