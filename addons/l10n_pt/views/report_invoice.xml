<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="l10n_pt_report_invoice_document_inherit" inherit_id="account.report_invoice_document">
        <xpath expr="//th[@name='th_subtotal']" position="after">
            <th name="th_subtotal_accumulated" class="text-right">
                <span>Accumulated amount</span>
            </th>
        </xpath>
        <xpath expr="//td[@name='td_subtotal']" position="after">
            <td name="th_subtotal_accumulated_tax" class="text-right">
                <span class="text-nowrap"
                      t-esc="current_subtotal"
                      t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
            </td>
        </xpath>
<!--        Disable the accumulated amount resetting happening after a line section-->
        <xpath expr="//tr[contains(@class, 'is-subtotal')]" position="replace">
        </xpath>
        <xpath expr="//t[@id='reset_current_subtotal']" position="replace">
        </xpath>
    </template>
</odoo>
