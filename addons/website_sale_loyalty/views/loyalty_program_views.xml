<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <menuitem
        id="menu_discount_loyalty_type_config"
        action="loyalty.loyalty_program_discount_loyalty_action"
        name="Discount &amp; Loyalty"
        parent="website_sale.menu_catalog"
        groups="sales_team.group_sale_manager"
        sequence="50"
    />

    <menuitem
        id="menu_gift_ewallet_type_config"
        action="loyalty.loyalty_program_gift_ewallet_action"
        name="Gift cards &amp; eWallet"
        parent="website_sale.menu_catalog"
        groups="sales_team.group_sale_manager"
        sequence="51"
    />

    <record id="loyalty_program_discount_loyalty_view_form_inherit_website_sale_loyalty" model="ir.ui.view">
        <field name="name">loyalty.program.discount.loyalty.view.form.inherit.website.sale.loyalty</field>
        <field name="model">loyalty.program</field>
        <field name="inherit_id" ref="loyalty.loyalty_program_discount_loyalty_view_form"/>
        <field name="arch" type="xml">
            <field name="currency_id" position="after">
                <field name="website_id" options="{'no_create': True}" groups="website.group_multi_website"/>
            </field>
        </field>
    </record>

    <record id="loyalty_program_gift_ewallet_view_form_inherit_website_sale_loyalty" model="ir.ui.view">
        <field name="name">loyalty.program.gift.ewallet.view.form.inherit.website.sale.loyalty</field>
        <field name="model">loyalty.program</field>
        <field name="inherit_id" ref="loyalty.loyalty_program_gift_ewallet_view_form"/>
        <field name="arch" type="xml">
            <field name="currency_id" position="after">
                <field name="website_id" options="{'no_create': True}" groups="website.group_multi_website"/>
            </field>
        </field>
    </record>

    <record id="loyalty_program_discount_loyalty_view_tree_inherit_website_sale_loyalty" model="ir.ui.view">
        <field name="name">loyalty.program.discount.loyalty.view.tree.inherit.website.sale.loyalty</field>
        <field name="model">loyalty.program</field>
        <field name="inherit_id" ref="loyalty.loyalty_program_discount_loyalty_view_tree"/>
        <field name="arch" type="xml">
            <field name="concatenate_count" position="after">
                <field name="website_id" groups="website.group_multi_website"/>
            </field>
            <field name="company_id" position="after">
                <button name="action_program_share" string="Share" type="object" icon="fa-share-alt" attrs="{ 'invisible' : [('program_type', '=', 'coupons')]}"/>
            </field>
        </field>
    </record>

    <record id="loyalty_program_gift_ewallet_view_tree_inherit_website_sale_loyalty" model="ir.ui.view">
        <field name="name">loyalty.program.gift.ewallet.view.tree.inherit.website.sale.loyalty</field>
        <field name="model">loyalty.program</field>
        <field name="inherit_id" ref="loyalty.loyalty_program_gift_ewallet_view_tree"/>
        <field name="arch" type="xml">
            <field name="concatenate_count" position="after">
                <field name="website_id" groups="website.group_multi_website"/>
            </field>
            <field name="company_id" position="after">
                <button name="action_program_share" string="Share" type="object" icon="fa-share-alt"/>
            </field>
        </field>
    </record>

</odoo>
