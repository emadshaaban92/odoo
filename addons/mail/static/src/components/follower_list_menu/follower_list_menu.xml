<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.FollowerListMenuView" owl="1">
        <div class="o_FollowerListMenuView position-relative d-flex" t-attf-class="{{ className }}" t-on-keydown="onKeydown" t-ref="root">
            <div class="o_FollowerListMenuView_followers d-flex" t-ref="dropdown">
                <button class="o_FollowerListMenuView_buttonFollowers o_ChatterTopbar_button btn btn-light" t-att-disabled="isDisabled" t-att-aria-expanded="isDropdownOpen ? 'true' : 'false'" t-on-click="onClickFollowersButton" aria-label="Show Followers">
                    <i class="fa fa-user-o" role="img"/>
                    <span class="o_FollowerListMenuView_buttonFollowersCount ps-1" t-esc="followers.length"/>
                </button>
                <div t-if="isDropdownOpen" class="o_FollowerListMenuView_dropdown o-dropdown-menu dropdown-menu-end flex-column d-flex" role="menu">
                    <t t-if="chatterOwner.thread.model !== 'channel' and chatterOwner.thread.hasWriteAccess">
                        <a class="o_FollowerListMenuView_addFollowersButton dropdown-item" href="#" role="menuitem" t-on-click="onClickAddFollowers">
                            Add Followers
                        </a>
                        <div t-if="followers.length > 0" role="separator" class="dropdown-divider"/>
                    </t>
                    <t t-if="followers.length > 0">
                        <div t-foreach="followers" t-as="follower" t-key="follower" class="o_FollowerMenu_follower dropdown-item o_FollowerView d-flex justify-content-between p-0">
                            <a class="o_FollowerView_details d-flex align-items-center flex-grow-1 px-3 text-700" t-att-class="{ 'o-inactive fst-italic opacity-25': !follower.isActive }" href="#" role="menuitem" t-on-click="ev => onClickFollowerDetails(ev, follower)">
                                <img class="o_FollowerView_avatar me-2 rounded-circle" t-att-src="follower.partner.avatarUrl" alt=""/>
                                <span class="o_FollowerView_name flex-shrink text-truncate" t-esc="follower.partner.nameOrDisplayName"/>
                            </a>
                            <t t-if="follower.isEditable">
                                <button class="o_FollowerView_button o_FollowerView_editButton btn btn-icon rounded-0" title="Edit subscription" aria-label="Edit subscription" t-on-click="ev => onClickFollowerEdit(ev, follower)">
                                    <i class="fa fa-pencil"/>
                                </button>
                                <button class="o_FollowerView_button o_FollowerView_removeButton btn btn-icon rounded-0" title="Remove this follower" aria-label="Remove this follower" t-on-click="ev => onClickFollowerRemove(ev, follower)">
                                    <i class="fa fa-remove"/>
                                </button>
                            </t>
                        </div>
                    </t>
                    <div t-elif="!chatterOwner.thread.hasWriteAccess" class="o_FollowerListMenuView_noFollowers dropdown-item disabled">
                        No Followers
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
